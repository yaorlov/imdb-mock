"""
An object with an ID to support global identification.
"""
interface Node{
	"""
	Globally unique identifier.
	"""
	id: ID!
}

"""
Keys that can be used to sort seller profiles
"""
enum MovieSort{
	"""
	Sort seller profiles by title
	"""
	TITLE
}

"""
Sort direction
"""
enum Direction{
	"""
	Sort in ascending order
	"""
	ASC
	"""
	Sort in descending order
	"""
	DESC
}

"""
A monetary value number
"""
scalar Money

type Query{
	"""
	Get current user
	"""
	me: UserAccountType!
}

type Mutation{
	"""
	Signs up user. Returns auth tokens
	"""
	userSignup(
		input: UserSignupInput!
	): AuthTokenType!
	"""
	Signin user via email and password
	"""
	userSignin(
		input: UserSigninInputType!
	): AuthTokenType!
	"""
	Signout current user from the system
	"""
	userSignout: SignoutType
	"""
	Refresh user token
	"""
	refreshToken: RefreshedAccessPayloadType!
}

"""
User account
"""
type UserAccountType implements Node{
	"""
	Buyer account's profile
	"""
	userProfile: UserProfileType
	"""
	Email of user account
	"""
	email: String!
	"""
	Globally unique identifier.
	"""
	id: ID!
	"""
	Favotrie movies
	"""
	favoriteMovies(
		"""
	Returns the elements in the list that come after the specified cursor.
	"""
	after: String
		"""
	Returns the elements in the list that come before the specified cursor.
	"""
	before: String
		"""
	Returns the first _n_ elements from the list.
	"""
	first: Int
		"""
	Returns the last _n_ elements from the list.
	"""
	last: Int
		orderBy: MovieOrdering
	): MovieConnectionType!
}

"""
User profile
"""
type UserProfileType implements Node{
	"""
	Globally unique identifier.
	"""
	id: ID!
	"""
	User avatar
	"""
	avatar: ImageType
	"""
	User's first name
	"""
	firstName: String
	"""
	User's full name
	"""
	fullName: String
	"""
	Buyer's last name
	"""
	lastName: String
}

"""
Auth token provider
"""
type AuthTokenType{
	"""
	Access JWT token
	"""
	access: String!
	"""
	CSRF protection token
	"""
	csrf: String!
	"""
	JWT token for refreshing access token
	"""
	refresh: String!
}

"""
Signout type
"""
type SignoutType{
	"""
	Status of operation
	"""
	completed: Boolean
}

"""
Payload with refreshed access tokens
"""
type RefreshedAccessPayloadType{
	"""
	JWT access token
	"""
	access: String!
	"""
	Expiration of access tokens
	"""
	accessExpiresAt: String!
	"""
	Token for signed cookies
	"""
	csrf: String!
}

type ImageType{
	filePath: String!
}

type MovieType{
	id: ID!
	title: String!
	originalTitle: String!
	overview: String
	originalLanguage: String
	runtime: String
	budget: Money
	revenue: Money
	genres: [GenreType!]!
	poster: ImageType
}

"""
The connection type for ProductType.
"""
type MovieConnectionType{
	"""
	Number of current page
	"""
	currentPage: Int!
	"""
	A list of edges.
	"""
	edges: [MovieEdgeType]
	"""
	List of connected node identifiers
	"""
	nodeIds: [ID!]!
	"""
	A list of nodes.
	"""
	nodes: [MovieType]
	"""
	Information to aid in pagination.
	"""
	pageInfo: PageInfo!
	"""
	Total # of objects returned from query
	"""
	totalCount: Int!
	"""
	Total # of pages, based on total count and pagesize
	"""
	totalPageCount: Int!
}

"""
Information about pagination in a connection.
"""
type PageInfo{
	"""
	When paginating forwards, the cursor to continue.
	"""
	endCursor: String
	"""
	When paginating forwards, are there more items?
	"""
	hasNextPage: Boolean!
	"""
	When paginating backwards, are there more items?
	"""
	hasPreviousPage: Boolean!
	"""
	When paginating backwards, the cursor to continue.
	"""
	startCursor: String
}

"""
An edge in a connection.
"""
type MovieEdgeType{
	"""
	A cursor for use in pagination.
	"""
	cursor: String!
	"""
	The item at the end of the edge.
	"""
	node: MovieType
}

type GenreType{
	id: ID!
	name: String!
}

type CastType{
	id: ID!
	profile: ImageType
	name: String!
	character: String!
}

type CrewType{
	id: ID!
	profile: ImageType
	name: String!
	department: String
}

type ListType{
	name: String!
	description: String
}

"""
Input for buyerSignup mutation
"""
input UserSignupInput{
	"""
	Buyer's email
	"""
	email: String!
	"""
	Buyer's first name
	"""
	firstName: String!
	"""
	Buyer's last name
	"""
	lastName: String!
	"""
	Buyer's password
	"""
	password: String!
	"""
	Buyer's password confirmation
	"""
	passwordConfirmation: String!
}

"""
Signin buyer via email and password
"""
input UserSigninInputType{
	"""
	translation missing: en.graphql.inputs.buyer_signin_input.email
	"""
	email: String!
	"""
	translation missing: en.graphql.inputs.buyer_signin_input.password
	"""
	password: String!
}

"""
Ordering for Movies.
"""
input MovieOrdering{
	"""
	Sort direction
	"""
	direction: Direction = ASC
	"""
	Sort key
	"""
	sort: MovieSort!
}
schema{
	query: Query,
	mutation: Mutation
}